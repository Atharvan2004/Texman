<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title></title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="/stylesheets/global.css" type="text/css" rel="stylesheet" />
  <link href="/stylesheets/view-cart.css" type="text/css" rel="stylesheet" />
</head>

<body>
  <div id="background"></div>
  <!-- Nav Bar -->
  <div id="nav-bar">
    <div class="upper-part">
      <img class="logo"
        src="data:image/png;base64,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"
        alt="favicon" />

      <div class="center-part">
        <div class="search-bar">
          <i class="nf nf-seti-search"></i>
          <textarea rows="1" placeholder="search..."></textarea>
        </div>
        <div class="nav-links">
          <a href="/">Home</a>
          <a class="category-dropdown">Categrories <i class="nf nf-oct-chevron_down"></i></a>
          <a>Linking Link</a>
        </div>
      </div>

      <div class="icon-part">
        <a href="/register" class="nf nf-fa-user_circle"></a>
        <a href="/cart" class="nf nf-md-cart_outline"></a>
        <button class="nav-toggle nf nf-md-menu" role="button" onclick="navToggle()"></button>
      </div>
    </div>

    <div class="sub-links">
      <a href="/shop/headphone">Headphones</a>
      <a href="/shop/monitors">Monitors</a>
      <a href="/shop/chairs">Chairs</a>
      <a href="/shop/controllers">Controllers</a>
      <a href="/shop/cooling-pads">Cooling Pads</a>
      <a href="/shop/mouses">Mouses</a>
    </div>

    <div class="pop-part">
      <div class="pop-search-bar search-bar">
        <i class="nf nf-seti-search"></i>
        <textarea rows="1" placeholder="search..."></textarea>
      </div>
      <div class="pop-nav-links">
        <a href="/">Home</a>
        <a class="category-dropdown">Categrories <i class="nf nf-oct-chevron_down"></i></a>
        <div class="pop-sub-links">
          <a href="/shop/headphone">Headphones</a>
          <a href="/shop/monitors">Monitors</a>
          <a href="/shop/chairs">Chairs</a>
          <a href="/shop/controllers">Controllers</a>
          <a href="/shop/cooling-pads">Cooling Pads</a>
          <a href="/shop/mouses">Mouses</a>
        </div>
        <a>Linking Link</a>
      </div>
    </div>
  </div>
  <!-- main content begins -->
  <main>
    <div class="product-card-container">
      <div class="product-card">
        <img
          src="https://images.unsplash.com/photo-1515955656352-a1fa3ffcd111?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80"
          alt="product-image" />
        <div class="text-section">
          <div class="center-section">
            <h2>Nike Air Max 2019</h2>
            <p class="price">36EU - 4US</p>
          </div>
          <div class="right-section">
            <div class="quantity">
              <span class="minus"> - </span>
              <input type="number" value="2" min="1" />
              <span class="plus"> + </span>
            </div>
            <div class="bottom-right-section">
              <p>259.000 ₭</p>
              <button class="del-btn">
                Delete
              </button>
              <i class="nf nf-fa-trash"></i>
            </div>
          </div>
        </div>
      </div>
      <div class="product-card">
        <img
          src="https://images.unsplash.com/photo-1515955656352-a1fa3ffcd111?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1170&q=80"
          alt="product-image" />
        <div class="text-section">
          <div class="center-section">
            <h2>Nike Air Max 2019</h2>
            <p class="price">36EU - 4US</p>
          </div>
          <div class="right-section">
            <div class="quantity">
              <span class="minus"> - </span>
              <input type="number" value="2" min="1" />
              <span class="plus"> + </span>
            </div>
            <div class="bottom-right-section">
              <p>259.000 ₭</p>
              <i class="nf nf-fa-trash"></i>
            </div>
          </div>
        </div>
      </div>
    </div>
    </div>
    <div class="summary-container">
      <div class="summary">
        <div class="subtotal">
          <p class="text-gray-700">Subtotal</p>
          <p class="text-gray-700">$129.99</p>
        </div>
        <div class="shipping">
          <p class="text-gray-700">Shipping</p>
          <p class="text-gray-700">100.00</p>
        </div>
        <hr />
        <div class="below-hr">
          <p class="total-text">Total</p>
          <div class="">
            <p class="total-value" id="total-value">$134.98 USD</p>
            <p style="font-size:0.85rem;">including VAT</p>
          </div>
        </div>
        <button>Check out</button>
      </div>
    </div>
    </div>
  </main>

  <!-- Footer section -->
  <footer>
    <div class="upper-triangle-shadow"></div>
    <div class="upper-triangle"></div>
    <div class="footer-content">
      <div class="footer-col">
        <h4 id="com">Company</h4>
        <ul>
          <li><a href="#">About us</a></li>
          <li><a href="#">Our services</a></li>
          <li><a href="#">Privacy policy</a></li>
          <li><a href="#">Affiliate program</a></li>
        </ul>
      </div>
      <div class="footer-col">
        <h4 id="gh">Get Help</h4>
        <ul>
          <li><a href="#">FAQ</a></li>
          <li><a href="#">Shipping</a></li>
          <li><a href="#">Returns</a></li>
          <li><a href="#">Order status</a></li>
          <li><a href="#">Payment Options</a></li>
        </ul>
      </div>
      <div class="footer-col">
        <h4 id="os">Online Shop</h4>
        <ul>
          <li><a href="#">Monitors</a></li>
          <li><a href="#">Keyboards</a></li>
          <li><a href="#">Mouse</a></li>
          <li><a href="#">Headsets</a></li>
        </ul>
      </div>
      <div class="footer-col ">
        <h4 id="foot">Follow us</h4>
        <div class="social-links">
          <a href="#"><i class="nf nf-fa-facebook_official"></i></a>
          <a href="#"><i class="nf nf-fa-twitter"></i></a>
          <a href="#"><i class="nf nf-md-instagram"></i></a>
          <a href="#"><i class="nf nf-md-linkedin"></i></a>
        </div>
      </div>
    </div>
  </footer>
  <!-- Back to Top -->
  <button id="back-to-top" class="nf nf-fa-chevron_up btn-darken" onclick="backToTop()"></button>


  <script>
    // Function to fetch data from the /data route
    let total = 0;
    const totalValueElement = document.getElementById('total-value');

    async function fetchData() {
      try {
        const response = await fetch('/data');
        if (!response.ok) {
          throw new Error('Network response was not ok');
        }
        const data = await response.json();

        // Modify this part to display the data as needed
        const productContainer = document.querySelector('.product-card-container');
        productContainer.innerHTML = ''; // Clear previous content

        data.forEach((product) => {
          const productCard = document.createElement('div');
          productCard.classList.add('product-card');

          const img = document.createElement('img');
          img.src = product.img_url;
          img.alt = 'product-image';

          const textSection = document.createElement('div');
          textSection.classList.add('text-section');

          const centerSection = document.createElement('div');
          centerSection.classList.add('center-section');

          const h2 = document.createElement('h2');
          h2.textContent = product.title;

          const price = document.createElement('p');
          price.classList.add('price');
          price.style.fontSize = '20px';
          price.textContent = product.price;
          const productPrice = parseFloat(product.price); // Parse price as a float
          total += productPrice;
          
          console.log(total)
          const del = document.createElement('button')
          del.classList.add('del-btn')
          del.textContent = 'Delete'
          del.addEventListener('click', function (event) {
            const shouldDelete = confirm('Are you sure you want to delete this item?');

            if (shouldDelete) {
              const deleteRoute = `/cart/${product._id}`;

              fetch(deleteRoute, {
                method: 'DELETE'
              })
                .then(response => {
                  if (response.ok) {
                    // Handle successful deletion here, such as removing the item from the UI
                    // You can add code to remove the item or refresh the product list
                    // Example: productCard.remove();
                  } else {
                    // Handle errors here, such as displaying an error message
                    console.error('Error deleting product');
                  }
                })
                .catch(error => {
                  // Handle network or other errors
                  console.error('Error sending DELETE request:', error);
                });
            }
          });


          // Add elements to the product card
          centerSection.appendChild(h2);
          centerSection.appendChild(price);
          textSection.appendChild(centerSection);
          productCard.appendChild(img);
          productCard.appendChild(textSection);
          productContainer.appendChild(productCard);
          productCard.appendChild(del)
          totalValueElement.innerText = `${total.toFixed(2)} INR`;
        });
      } catch (error) {
        console.error('Error fetching data:', error);
      }
    }

    // Call the fetchData function when the page loads
    window.addEventListener('load', fetchData);

  </script>
</body>

</html>